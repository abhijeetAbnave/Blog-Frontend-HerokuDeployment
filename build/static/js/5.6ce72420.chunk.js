(this.webpackJsonpsummarizer=this.webpackJsonpsummarizer||[]).push([[5],{500:function(e){e.exports=JSON.parse('{"admin":"admin","blogger":"blogger"}')},521:function(e,t,n){"use strict";n.r(t);var o=n(22),a=n(56),c=n(0),s=n(498),l=n(493),i=n(494),r=n(495),b=n(256),d=n(21),j=n(73),g=n(32),u=n(95),p=n(524),m=n(518),h=n(82),O=n(500),x=n(33),_=n(47),f=n(501),N=n.n(f),v=n(2),y=Object(m.a)((function(e){return{root:{height:"100%",textAlign:"center"},imgBox:{maxWidth:"80%",maxHeight:"80%",margin:"10px"},img:{height:"inherit",maxWidth:"inherit"},input:{display:"none"}}}));t.default=Object(j.b)(null)(Object(d.g)((function(e){var t=y(),n=Object(c.useState)(!0),d=Object(a.a)(n,2),j=(d[0],d[1]),m=Object(c.useState)(!1),f=Object(a.a)(m,2),P=f[0],A=f[1],C=Object(c.useState)(!1),I=Object(a.a)(C,2),R=I[0],w=I[1],B=Object(c.useState)([]),T=Object(a.a)(B,2),k=T[0],E=T[1],S=g.a.getState(),M=Object(c.useState)({blog_name:"",blog_subtitle:"",blog_content:"",blog_owner_name:"",blog_owner_id:"",blog_read_time:"5 minutes",blog_comments:"none"}),L=Object(a.a)(M,2),Y=L[0],J=L[1];Object(c.useEffect)((function(){z()}),[]);var z=function(){try{h.a.getApi("".concat(x.apiEndPoint,"/").concat(x.getMyBlogs),{},{headers:{"Content-Type":"application/json"}}).then((function(t){t?0!==t.length?(j(!1),E(t)):(Object(_.b)("No Blogs are there"),j(!1),E(t)):(Object(_.b)("No Response from API, Try again"),console.log("No Response from API"),j(!1),e.history.push("/login"))}))}catch(t){console.log("Error Response from API",t)}},F=function(e){e.target.value.length>e.target.maxLength&&(Object(_.b)("Max length reached"),e.target.value=e.target.value.slice(0,e.target.maxLength))},W=function(e){switch(e.target.id){case"title":J(Object(o.a)(Object(o.a)({},Y),{},{blog_name:e.target.value}));break;case"subtitle":J(Object(o.a)(Object(o.a)({},Y),{},{blog_subtitle:e.target.value}));break;case"contents":J(Object(o.a)(Object(o.a)({},Y),{},{blog_content:e.target.value}));break;case"read_time":J(Object(o.a)(Object(o.a)({},Y),{},{blog_read_time:e.target.value}))}};return Object(v.jsx)(u.a,{component:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)("div",{className:t.root+" overflow-class",children:Object(v.jsx)(p.a,{container:!0,children:Object(v.jsx)(p.a,{item:!0,xs:12,children:Object(v.jsxs)("div",{className:"m-auto loginCard ",children:[Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("button",{type:"button",className:"card-button",id:!0,onClick:function(){w(!0),A(!P)},disabled:!1,children:"Add Blog"})}),k.map((function(t,n){return Object(v.jsxs)("div",{className:"card-blog",children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-2",children:Object(v.jsx)("button",{className:"btn-edit-install",id:"button",onClick:function(){A(!P),function(e){var t=Object(o.a)(Object(o.a)({},Y),e);J(t)}(t)},children:Object(v.jsx)("i",{className:"icon-edit "})})}),Object(v.jsx)("div",{className:"col-8",children:Object(v.jsx)("h2",{children:t.blog_name})}),Object(v.jsx)("div",{className:"col-2",children:Object(v.jsx)("button",{className:"btn-delete-install",id:"button",disabled:t.deleted,onClick:function(){return function(t){try{var n={_id:t};h.a.delete("".concat(x.apiEndPoint,"/").concat(x.deleteBlog),n,{headers:{"Content-Type":"application/json"}}).then((function(t){t?0!==t.length?(j(!1),E(t)):(Object(_.b)("No Blogs are there"),j(!1),E(t)):(Object(_.b)("No Response from API, Try again"),console.log("No Response from API"),j(!1),e.history.push("/login"))}))}catch(o){console.log("Error Response from API",o)}}(t._id)},children:Object(v.jsx)("i",{className:"icon-delete "})})})]}),Object(v.jsxs)("h5",{children:[t.blog_subtitle,", ",N()(t.blog_created_timestamp).format("MMM Do, YYYY")]}),Object(v.jsx)("div",{className:"fakeimg",style:{height:"200px"},children:"Image"}),Object(v.jsx)("p",{children:t.blog_content}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("button",{type:"button",className:"card-button",id:!0,onClick:function(){return function(t,n){try{var o={_id:t,blog_approved:!n};h.a.put("".concat(x.apiEndPoint,"/").concat(x.approveBlog),o,{headers:{"Content-Type":"application/json"}}).then((function(t){t?0!==t.length?(j(!1),E(t)):(Object(_.b)("No Blogs are there"),j(!1),E(t)):(Object(_.b)("No Response from API, Try again"),console.log("No Response from API"),j(!1),e.history.push("/login"))}))}catch(a){console.log("Error Response from API",a)}}(t._id,t.blog_approved)},disabled:!(S.user.role===O.admin),children:t.blog_approved?"Published":"Publish"})})]},n)}))]})})})}),Object(v.jsxs)(s.a,{isOpen:P,hidefunction:function(){A(!P)},children:[Object(v.jsx)(l.a,{closeButton:!0,children:"Edit Blog"}),Object(v.jsxs)(i.a,{children:[Object(v.jsxs)("div",{className:"row input-group-1 form-group",children:[Object(v.jsx)("div",{className:"col-3 span-text",children:Object(v.jsx)("span",{children:"Title"})}),Object(v.jsxs)("div",{className:"col-9",children:[Object(v.jsx)("input",{id:"title",type:"text",maxLength:50,value:Y.blog_name,onInput:F,className:"input-group-text",placeholder:"Please enter Title",onChange:W})," "]})]}),Object(v.jsxs)("div",{className:"row input-group-1 form-group ",children:[Object(v.jsx)("div",{className:"col-3 span-text",children:Object(v.jsx)("span",{children:"Sub Title"})}),Object(v.jsxs)("div",{className:"col-9",children:[Object(v.jsx)("input",{id:"subtitle",type:"text",maxLength:50,value:Y.blog_subtitle,onInput:F,className:"input-group-text",placeholder:"Please enter Subtitle",onChange:W})," "]})]}),Object(v.jsxs)("div",{className:"row input-group-1 form-group",children:[Object(v.jsx)("div",{className:"col-3 span-text",children:Object(v.jsx)("span",{children:"Contents"})}),Object(v.jsxs)("div",{className:"col-9",children:[Object(v.jsx)("textarea",{id:"contents",type:"text",value:Y.blog_content,className:"input-text-area",placeholder:"Contents......",onChange:W})," "]})]}),Object(v.jsxs)("div",{className:"row input-group-1 form-group",children:[Object(v.jsx)("div",{className:"col-3 span-text",children:Object(v.jsx)("span",{children:"Read Time"})}),Object(v.jsxs)("div",{className:"col-9",children:[Object(v.jsx)("input",{id:"read_time",type:"text",value:Y.blog_read_time,className:"input-group-text",placeholder:"Read time",onChange:W})," "]})]})]}),Object(v.jsxs)(r.a,{children:[Object(v.jsxs)(b.a,{variant:"outline-secondary",onClick:function(){A(!1)},className:"modal-button btn btn-outline",children:[" ","Cancel"]}),Object(v.jsxs)(b.a,{variant:"primary",onClick:function(){R?function(){try{var t={blog_owner_id:S.user._id,blog_owner_name:S.user.first_name},n=Object(o.a)(Object(o.a)({},Y),t);h.a.post("".concat(x.apiEndPoint,"/").concat(x.addBlog),n,{headers:{"Content-Type":"application/json"}}).then((function(t){t?0!==t.length?(j(!1),E(t)):(Object(_.b)("No Blogs are there"),j(!1),E(t)):(Object(_.b)("No Response from API, Try again"),console.log("No Response from API"),j(!1),e.history.push("/login"))}))}catch(a){console.log("Error Response from API",a)}w(!1),J({blog_name:"",blog_subtitle:"",blog_content:"",blog_owner_name:"",blog_owner_id:"",blog_read_time:"5 minutes",blog_comments:"none"})}():function(){try{var t=Y;h.a.put("".concat(x.apiEndPoint,"/").concat(x.updateBlog),t,{headers:{"Content-Type":"application/json"}}).then((function(t){t?0!==t.length?(j(!1),E(t)):(Object(_.b)("No Blogs are there"),j(!1),E(t)):(Object(_.b)("No Response from API, Try again"),console.log("No Response from API"),j(!1),e.history.push("/login"))}))}catch(n){console.log("Error Response from API",n)}w(!1),J({blog_name:"",blog_subtitle:"",blog_content:"",blog_owner_name:"",blog_owner_id:"",blog_read_time:"5 minutes",blog_comments:"none"})}(),A(!1)},className:"modal-button  btn btn-primary",children:[" ",R?"Add":"Update"]})]})]})]},"FeedRails")})})))}}]);
//# sourceMappingURL=5.6ce72420.chunk.js.map