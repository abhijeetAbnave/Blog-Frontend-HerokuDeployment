{"version":3,"sources":["pages/Profile/index.js"],"names":["connect","withRouter","props","useState","usersData","setUsersData","setverifySpinner","store","getState","user","first_name","last_name","email","role","deleted","useEffect","Roles","admin","getAllUsers","api","getApi","pwaConfig","apiEndPoint","getUsers","headers","then","data","length","showWarningMessage","console","log","history","push","error","deleteUser","payload","delete","component","className","container","item","xs","map","index","id","style","height","disabled","onClick","_id"],"mappings":"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","file":"static/js/6.82ab6417.chunk.js","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { Spinner } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport store from \"../../store/store\";\nimport Body from \"../../elements/Body\";\nimport PhotoCameraRoundedIcon from \"@material-ui/icons/PhotoCameraRounded\";\nimport api from \"../../services/api\";\nimport pwaConfig from \"../../pwaConfig.json\";\nimport { getUserProfileData } from \"../../services/dataServices/userProfileService\";\nimport Roles from \"../../roles.json\";\nimport {\n  showSuccessMessage,\n  showNoInternetAlert,\n  showWarningMessage,\n} from \"../../services/utility\";\nimport Grid from \"@material-ui/core/Grid\";\n\nfunction Profile(props) {\n  const [usersData, setUsersData] = useState([]);\n  const [verifySpinner, setverifySpinner] = useState(false);\n  const reduxStates = store.getState();\n\n  const { first_name, last_name, email, deleted, role } = reduxStates.user;\n\n  useEffect(() => {\n    if (role === Roles.admin) getAllUsers();\n  }, []);\n\n  const getAllUsers = () => {\n    try {\n      const headers = {\n        \"Content-Type\": \"application/json\",\n      };\n      const payload = {};\n      api\n        .getApi(`${pwaConfig.apiEndPoint}/${pwaConfig.getUsers}`, payload, {\n          headers: headers,\n        })\n        .then((data) => {\n          if (data) {\n            if (data.length !== 0) {\n              setverifySpinner(false);\n              setUsersData(data);\n            } else {\n              showWarningMessage(\"No Blogs are there\");\n              setverifySpinner(false);\n              setUsersData(data);\n            }\n          } else {\n            showWarningMessage(\"No Response from API, Try again\");\n            console.log(\"No Response from API\");\n            setverifySpinner(false);\n            props.history.push(\"/login\");\n          }\n        });\n    } catch (error) {\n      console.log(\"Error Response from API\", error);\n    }\n  };\n\n  const deleteUser = (payload) => {\n    try {\n      const headers = {\n        \"Content-Type\": \"application/json\",\n      };\n      api\n        .delete(`${pwaConfig.apiEndPoint}/${pwaConfig.deleteUser}`, payload, {\n          headers: headers,\n        })\n        .then((data) => {\n          if (data) {\n            if (data.length !== 0) {\n              setverifySpinner(false);\n              setUsersData(data);\n            } else {\n              showWarningMessage(\"No Blogs are there\");\n              setverifySpinner(false);\n              setUsersData(data);\n            }\n          } else {\n            showWarningMessage(\"No Response from API, Try again\");\n            console.log(\"No Response from API\");\n            setverifySpinner(false);\n            props.history.push(\"/login\");\n          }\n        });\n    } catch (error) {\n      console.log(\"Error Response from API\", error);\n    }\n  }\n\n\n  return (\n    <Body\n      component={\n        <Fragment key={\"FeedRails\"}>\n          <div className={\"overflow-class\"}>\n            <Grid container>\n              <Grid item xs={12}>\n                <div className=\"row no-gutters my-auto\">\n                  <div className=\"cardtitle text-center text-white\">\n                    {role === Roles.admin ? \"Users Data\" : \"Your Profile Data\"}\n                  </div>\n                </div>\n                <div className=\"row my-2 \">\n                  <div className=\"col-sm-7 mx-auto\">\n                    <div className=\"width-100 \">\n                      <div className=\"m-auto loginCard \">\n                        <Fragment>\n                          {\" \"}\n                          {role === Roles.admin ? (\n                            usersData.map((user, index) => {\n                              return (\n                                <div key={index} className=\"card-blog\">\n                                  <div className=\"row\">\n                                    <div className=\"col-9 \">\n                                      <div className=\"row\">\n                                        <div className=\"col-4 \">\n                                          <h4>First Name: </h4>\n                                        </div>\n                                        <div className=\"col-8\">\n                                          <h4>{user.first_name}</h4>\n                                        </div>\n                                      </div>\n                                      <div className=\"row\">\n                                        <div className=\"col-4 \">\n                                          <h4>Last Name: </h4>\n                                        </div>\n                                        <div className=\"col-8\">\n                                          <h4>{user.last_name}</h4>\n                                        </div>\n                                      </div>\n                                      <div className=\"row\">\n                                        <div className=\"col-4 \">\n                                          <h4>Email: </h4>\n                                        </div>\n                                        <div className=\"col-8\">\n                                          <h4>{user.email}</h4>\n                                        </div>\n                                      </div>\n                                      <div className=\"row\">\n                                        <div className=\"col-4 \">\n                                          <h4>Role: </h4>\n                                        </div>\n                                        <div className=\"col-8\">\n                                          <h4>{user.role}</h4>\n                                        </div>\n                                      </div>\n                                    </div>\n                                    <div className=\"col-3\">\n                                      <button\n                                        className=\"btn-edit-install\"\n                                        id=\"button\"\n                                        style={{ height: 40 }}\n                                        disabled={!(user.deleted)}\n                                        onClick={() => deleteUser({\n                                          _id: user._id,\n                                          deleted: false\n                                        })}\n                                      >\n                                        <i className=\"icon-edit \"></i>\n                                      </button>\n                                      <button\n                                        className=\"btn-delete-install\"\n                                        id=\"button\"\n                                        style={{ height: 40 }}\n                                        disabled={user.deleted}\n                                        onClick={() => deleteUser({\n                                          _id: user._id,\n                                          deleted: true\n                                        })}\n                                      >\n                                        <i className=\"icon-delete \"></i>\n                                      </button>\n                                      {/* <span className=\"nav-Text\">Delete</span> */}\n                                    </div>\n                                  </div>\n                                </div>\n                              );\n                            })\n                          ) : (\n                            <div className=\"card-blog\">\n                              <div className=\"row\">\n                                <div className=\"col-9 \">\n                                  <div className=\"row\">\n                                    <div className=\"col-4 \">\n                                      <h4>First Name: </h4>\n                                    </div>\n                                    <div className=\"col-8\">\n                                      <h4>{first_name}</h4>\n                                    </div>\n                                  </div>\n                                  <div className=\"row\">\n                                    <div className=\"col-4 \">\n                                      <h4>Last Name: </h4>\n                                    </div>\n                                    <div className=\"col-8\">\n                                      <h4>{last_name}</h4>\n                                    </div>\n                                  </div>\n                                  <div className=\"row\">\n                                    <div className=\"col-4 \">\n                                      <h4>Email: </h4>\n                                    </div>\n                                    <div className=\"col-8\">\n                                      <h4>{email}</h4>\n                                    </div>\n                                  </div>\n                                  <div className=\"row\">\n                                    <div className=\"col-4 \">\n                                      <h4>Role: </h4>\n                                    </div>\n                                    <div className=\"col-8\">\n                                      <h4>{role}</h4>\n                                    </div>\n                                  </div>\n                                </div>\n                                <div className=\"col-3\">\n                                  <button\n                                    className=\"btn-delete-install\"\n                                    id=\"button\"\n                                    style={{ height: 40 }}\n                                    disabled={true}\n                                    // onClick={() => deleteUser(user._id)}\n                                  >\n                                    <i className=\"icon-delete \"></i>\n                                  </button>\n                                  {/* <span className=\"nav-Text\">Delete</span> */}\n                                </div>\n                              </div>\n                            </div>\n                          )}\n                        </Fragment>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </Grid>\n            </Grid>\n          </div>\n        </Fragment>\n      }\n    />\n  );\n}\n\nexport default connect(null)(withRouter(Profile));\n"],"sourceRoot":""}